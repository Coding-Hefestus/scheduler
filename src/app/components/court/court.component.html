<div class="container">
    <div class="row"> 
      <div class="col-sm">
        <div class="card h-100">
          <img src="https://picsum.photos/id/944/900/500" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">Plavi teren</h5>
            <div class="card-header">
              <small class="text-muted">Dimenzije</small>
            </div>
            <p class="card-text">200x200</p>
            <div class="card-header">
              <small class="text-muted">Vrsta</small>
            </div>
            <p class="card-text">Å ljaka</p>
            <div class="card-header">
              <small class="text-muted">Nadkriven</small>
            </div>
            <p class="card-text">Da</p>
          </div>
          
        </div>

            <div class="container">
                <div class="row">
                  <div class="col-sm">
                    <p>Upcoming reservations</p>

                    <table class="table table-striped">
                      <thead>
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Start</th>
                        <th scope="col">End</th>
                        
                      </tr>
                      </thead>
                      <tbody>
                      <tr *ngFor="let timeslot of timeslots; index as i">
                        <th scope="row">{{ i + 1 }}</th>
                        <td>{{ timeslot.start | datePipe}}</td>
                        <td>{{ timeslot.end   | datePipe}}</td>
                      </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                
            </div>

      </div>

      <div class="col-sm">
       
            <div>
                <label for="start">Select start:</label>
                <input type="datetime-local" [ngModel]="startDate | date:'yyyy-MM-ddTHH:mm'" (ngModelChange)="dateChangedStart($event)" id="start" name="start">            
            </div>
           
            <div style="margin-top: 20px;">
                <label for="end">Select end:</label>
                <input type="datetime-local" [ngModel]="endDate | date:'yyyy-MM-ddTHH:mm'" (ngModelChange)="dateChangedEnd($event)" id="end" name="end">
            </div>

            <div style="margin-top: 20px;">
              <button (click)="addTimeslot()">Add timeslot</button>
            </div>
            
            
            

            <p style="margin-top: 300px;">Please select payment type:</p>
            <div class="btn-group" role="group" aria-label="Radio Buttons with Bootstrap 5">
              <input type="radio" [formControl]="paymentForm" [value]="1"  class="btn-check" id="btnradio1" autocomplete="off">
              <label class="btn btn-outline-primary" for="btnradio1">Cash</label>
            
              <input type="radio" [formControl]="paymentForm" [value]="2"  class="btn-check" id="btnradio2" autocomplete="off">
              <label class="btn btn-outline-primary" for="btnradio2">Card</label>
              
            </div>
            
            <pre>Value: {{ paymentForm.value }}</pre>


            <form [formGroup]="stripeForm" style="margin-top: 30px;">
               <!-- <mat-form-field class="example-full-width" appearance="fill">
                 <input matInput placeholder="name" formControlName="name" />
               </mat-form-field>
               <mat-form-field class="example-full-width" appearance="fill">
                 <input  matInput placeholder="amount" type="text" formControlName="amount" />
               </mat-form-field> -->
              <div class="form-group">
                <label for="name">First and last name</label>
                <input type="name" class="form-control"  formControlName="name" id="name" aria-describedby="nameHelp" placeholder="Enter your first and last name">
                <div *ngIf="stripeForm.dirty">
                  <small class="text-danger" *ngIf="stripeForm.get('name')!.hasError('required')">
                      This field is required.
                  </small>
                  <small class="text-danger" *ngIf="stripeForm.get('name')!.hasError('minlength')">
                    The minimum length for this field is {{stripeForm.get('name').errors['minlength'].requiredLength}} characters.
                  </small>
                </div>
              </div>
              <div class="form-group">
                <label for="email">Email address</label>
                <input type="email" class="form-control"  formControlName="email" id="email" aria-describedby="emailHelp" placeholder="Enter email">
                <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
              </div>
              <div style="margin-bottom: 5px;" class="form-group">
                <label for="amount">Amount</label>
                <input type="number" formControlName="amount"  [value]="amount"  class="form-control" id="amount" [disabled]="formDis" required>
                <small class="text-danger" *ngIf="stripeForm.get('amount').hasError('required')">
                  This field is required.
                </small>
                <small class="text-danger" *ngIf="stripeForm.get('amount').hasError('min') ">
                  Price must be 0 or positive number.
                </small>
              </div>
               <ng-container *ngIf="elementsOptions?.clientSecret as clientSecret">
                 <ngx-stripe-payment [clientSecret]="clientSecret">
                 </ngx-stripe-payment>
               </ng-container>
               <button id="paymentButton" (click)="pay()">PAY</button> 
             </form>
            
            
          
    

            
          
      </div>
      <div class="col-sm">
        <p>Selecte timeslots reservations for Court 1</p>

         <table class="table table-striped">
           <thead>
           <tr>
             <th scope="col">#</th>
             <th scope="col">Start</th>
             <th scope="col">End</th>
             <th scope="col">Remove</th>
           </tr>
           </thead>
           <tbody>
           <tr *ngFor="let timeslot of timeslots; index as i">
             <th scope="row">{{ i + 1 }}</th>
             
             <td>{{ timeslot.start | datePipe}}</td>
             <td>{{ timeslot.end  | datePipe}}</td>
             <td><button (click)="removeTimeslote(i)" >Remove</button></td>
           </tr>
           </tbody>
         </table>
      </div>
    </div>
  </div>